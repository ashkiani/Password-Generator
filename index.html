<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="description" content="Homework: Password-Generator">
        <meta name="author" content="Siavash Ashkiani">
        <title>Homework: Password-Generator - Siavash</title>
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
        <link rel="stylesheet" type="text/css" href="assets/css/style.css">
    </head>
    <body>
        <header>
                <div class="jumbotron jumbotron-fluid">
                        <div class="container">
                          <h1 class="display-4 mx-auto">Password Generator</h1>
                          <p class="lead"></p>
                        </div>
                      </div>
               <h1></h1>
        </header>
        
        <div class="container ">

                <form>
                    <div class="input-group mb-3 pt-3">
                        <input type="text" class="form-control" placeholder="Password" aria-label="Password" aria-describedby="basic-addon2">
                        <div class="input-group-append">
                            <button class="btn btn-outline-secondary" type="button">Copy</button>
                        </div>
                        
                    </div>
                    <div class="input-group mb-3">
                            
                            <label for="example-number-input" class="col-md-auto col-form-label">Password Length:</label>
                            <input class="form-control" type="number" value="8" id="example-number-input">
                        </div>
                    
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" value="" id="chkLower">
                        <label class="form-check-label" for="chkLower">
                            Include Lowercase Characters
                        </label>
                    </div>
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" value="" id="chkUpper">
                        <label class="form-check-label" for="chkUpper">
                            Include Uppercase Characters
                        </label>
                    </div>
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" value="" id="chkNumbers">
                        <label class="form-check-label" for="chkNumbers">
                            Include Numbers
                        </label>
                    </div>
                    <div class="form-check mb-3">
                        <input class="form-check-input" type="checkbox" value="" id="chkSpecial">
                        <label class="form-check-label" for="chkSpecial">
                            Include Special characters
                        </label>
                    </div>
                    <button type="submit" class="btn btn-primary mb-3">Generate</button>

                </form>

        </div>

    
        <div class="fixed-bottom">
            <footer>copyright</footer>
        </div>
        

        <script type="text/javascript">
            
            // Some test calls to generate a few passwords. I'll comment this out once I complete the html and css.
            // alert(GeneratePassword(8,true,false,false,false));
            // alert(GeneratePassword(8,true,true,false,false));
            // alert(GeneratePassword(8,true,true,true,false));
            // alert(GeneratePassword(8,true,true,true,true));
            // alert(GeneratePassword(8,false,false,false,false));
            
            // Generates a random number between iMin and iMax (inclusive)
            function GetRandomInt(iMin, iMax){
                var iRandom =Math.floor(Math.random() * (iMax - iMin + 1) ) + iMin;
                console.log("GetRandomInt generated: " + iRandom);
                return iRandom;
            }

            // Generates a password per input parameters
            function GeneratePassword(iPasswordLength,bIncludeLower,bIncludeUpper,bIncludeNumber,bIncludeSpecial){
                var sPswd="";
                var charType =[];
                
                //"Lower","Upper","Number","Special"
                if (bIncludeLower)  {charType.push("Lower");}
                if (bIncludeUpper)  {charType.push("Upper");}
                if (bIncludeNumber)  {charType.push("Number");}
                if (bIncludeSpecial)  {charType.push("Special");}
                if (charType.length>0){
                    var specialChars=["~","`","!","@","#","$","%","^","&","*","(",")","-","_","+","=","{","[","}","]","|",":",";","<",",",">",".","?","/","\'","\"","\\"];
                    for (var i=0;i<iPasswordLength;i++){
                        var iType= GetRandomInt(0,charType.length-1);
                        var sType=charType[iType];
                        console.log("Selected type char #" + i + ": " + sType);
                        switch(sType) {
                            case "Lower":
                                // ascii code for lower chars: 97-122 
                                sPswd+=String.fromCharCode(GetRandomInt(97,122));
                            break;
                            case "Upper":
                                // ascii code for upper chars: 65-90 
                                sPswd+=String.fromCharCode(GetRandomInt(65,90));
                            break;
                            case "Number":
                                // ascii code for upper chars: 48-57
                                sPswd+=String.fromCharCode(GetRandomInt(48,57));
                            break;
                            case "Special":
                                // The ascii codes for the Special chars are not sequential, so it's easier to store them in an array
                                sPswd+=specialChars[GetRandomInt(0,specialChars.length-1)];
                            break;
                            default:
                            console.log("Error: Invalid char type:" + sType);
                            
                        }
                    }
                }
                else{
                    console.log("Error: no char type was selected.");
                }
                console.log ("Generated password:" + sPswd);
                return sPswd;
            
            }



            
        </script>
    </body>
</html>